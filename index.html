<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mood Light Control</title>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
</head>
<body style="text-align:center; font-family:sans-serif; margin-top:50px;">
  <h1>Mood Light Controller</h1>
  <input type="color" id="colorPicker" value="#ff0000">
  <p id="status">Connecting...</p>

  <script>
    // Replace with your HiveMQ cluster details
    const options = {
      username: "beebo",
      password: "Beebosynth1",
      protocol: "wss",
      clientId: "webclient-" + Math.random().toString(16).substr(2, 8)
    };

    const client = mqtt.connect("wss://e6872d409e4d4e09a08d5a244e1b038d.s1.eu.hivemq.cloud:8884/mqtt", options);

    client.on("connect", () => {
      document.getElementById("status").innerText = "âœ… Connected!";
    });

    document.getElementById("colorPicker").addEventListener("input", (event) => {
      const color = event.target.value; // "#rrggbb"
      client.publish("moodlight/color", color);
    });
  </script>
</body>
</html>
